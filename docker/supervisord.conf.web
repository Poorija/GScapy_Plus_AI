[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

[program:ollama]
command=/bin/bash -c "/usr/local/bin/ollama serve"
autorestart=true
priority=10
stdout_logfile=/var/log/ollama.log
stderr_logfile=/var/log/ollama.err

[program:fastapi]
command=/usr/local/bin/uvicorn gscapy_web.api.main:app --host 0.0.0.0 --port 8000
directory=/app
autorestart=true
priority=20
stdout_logfile=/var/log/fastapi.log
stderr_logfile=/var/log/fastapi.err

[program:streamlit]
command=/usr/local/bin/streamlit run gscapy_web/app.py --server.port=8501 --server.address=0.0.0.0
directory=/app
autorestart=true
priority=30
stdout_logfile=/var/log/streamlit.log
stderr_logfile=/var/log/streamlit.err
